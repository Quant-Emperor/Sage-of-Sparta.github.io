<!DOCTYPE html>
<html lang="en">

<!-- elements12:51-->
<head>
        
		<meta charset="utf-8">
		<title>Love of Quant</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="img/assets/favicon.png" rel="icon" type="image/png">
		<link href="css/init.css" rel="stylesheet" type="text/css">
		<link href="css/ion-icons.min.css" rel="stylesheet" type="text/css">
		<link href="css/etline-icons.min.css" rel="stylesheet" type="text/css">
		<link href="css/customtab.css" rel="stylesheet" type="text/css">
		<link href="css/theme.css" rel="stylesheet" type="text/css"> 
		
		<link href="css/colors/purple.css" rel="stylesheet" type="text/css">
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRaleway:400,100,200,300%7CHind:400,300" rel="stylesheet" type="text/css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://code.jscharting.com/latest/jscharting.js"></script>
        <script type="text/javascript" src="https://code.jscharting.com/latest/modules/types.js"></script>
        <script type="text/javascript" src="https://code.jscharting.com/latest/modules/toolbar.js"></script>	
        <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.1/papaparse.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.3/jquery.csv.min.js"></script>
		
	</head>


	<body>

		<!-- Start Header -->
		<nav class="navbar nav-down" data-fullwidth="true" data-menu-style="light" data-animation="shrink">
										<!-- Styles: light, dark, transparent, transparent-to-dark | Animation: hiding, shrink -->
			<div class="container">

				<div class="navbar-header">
					<div class="container">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar top-bar"></span>
							<span class="icon-bar middle-bar"></span>
							<span class="icon-bar bottom-bar"></span>
						</button>
						<!-- <a class="navbar-brand to-top" href="#"><img src="img/assets/logo-light.png" class="logo-light" alt="#"><img src="img/assets/logo-dark-.png" class="logo-dark" alt="#"></a> -->
					</div>
				</div>

				<div id="navbar" class="navbar-collapse collapse">
					<div class="container">
						<ul class="nav navbar-nav center-menu">

							<!-- Each section must have corresponding ID ( #hero -> id="hero" ) -->
							<li><a href="index-2.html" target="_top">Home</a></li>
							<li><a href="index-2.html#about">About</a></li>
							<li class="dropdown megamenu vos">
								<a class="dropdown-toggle">Elements<i class="ion-ios-arrow-down"></i></a>
								<ul class="dropdown-menu fullwidth">
									<li class="megamenu-content withdesc">
										<div class="col-md-3 mg-col">
											<ul>
												<li><a href="stocks.html" target="_top">Equities</a></li>
                                                <li><a href="gdp.html" target="_top">GDP</a></li>
                                                <li><a href="umcsi.html" target="_top">UMCSI</a></li>
                                                <li><a href="housing.html" target="_top">Housing</a></li>
                                                <li><a href="screener.html" target="_top">Stock Screener</a></li>
											</ul>
										</div>
										<div class="col-md-3 mg-col">
											<ul>
												<li><a href="ism.html" target="_top">ISM Manufacturing</a></li>
												<li><a href="ism-services.html" target="_top">ISM Services</a></li>
												<li><a href="ism-heatmaps.html" target="_top">ISM Heatmaps</a></li>
												<li><a href="stock_dash.html" target="_top">Stock Dashboard</a></li>
											</ul>
										</div>
									</li>
								</ul>
							</li>
							
						</ul>
						
					</div>
				</div>
			</div>
		</nav>
		<!-- End Header -->

		<!-- Button Tabs Centered -->
		<section id="elements-buttons" class="pt100 pb80" style="width:100%; height:100%" align-content= "center">
			<div class="container">
				<div class="row">
					<div class="col-md-12 text-center mt40 pb40">
						<h1 style="color:white;"><strong>BitMex Crypto Modeller</strong></h1>
					</div>
					<button id="BITCOIN" class="btn btn-md btn-primary btn-round">Bitcoin</button>
					<button id="SOLANA" class="btn btn-md btn-primary btn-round">Solana</button>
					<button id="CARDANO" class="btn btn-md btn-primary btn-round">Cardano</button>
					<button id="POLKADOT" class="btn btn-md btn-primary btn-round">Polkadot</button>
				</div>
			</div>
			
			<div class="container">
				 <div class="login-box">
					  <form id="frm1">
						  <select id="side" name="side" style="background-color: transparent; font-family: sans-serif;  font-size: 16px; color: #fff;">
						    <option value="long" style="background-color: black; font-family: sans-serif;  font-size: 16px; color: white;">Long</option>
						    <option value="short" style="background-color: black; font-family: sans-serif;  font-size: 16px; color: white;">Short</option>
						  </select>
					  	<!-- <label for="side" class="dropbeta">Go Long/Short</label> -->
					  	<div class="user-box">
					      <input type="text" name="fticker" required="">
					      <label>Ticker</label>
					    </div> 
					    <div class="user-box">
					      <input type="text" name="fprice" required="">
					      <label>Current Price (USD)</label>
					    </div>
						<div class="user-box">
					      <input type="text" name="forder" required="">
					      <label>Order Value (BTC)</label>
					    </div>
						<div class="user-box">
					      <input type="text" name="ftargetbtc" required="">
					      <label>Target (BTC)</label>
					    </div>
						<div class="user-box">
					      <input type="text" name="fstopbtc" required="">
					      <label>Stop Loss (BTC)</label>
					    </div>
					    <div class="user-box">
					      <input type="text" name="frr" required="">
					      <label>Risk Reward Ratio</label>
					    </div>
					    <div class="user-box">
					      <input type="number" name="flimitentry" required="">
					      <label>Limit Entry (USD)</label>
					    </div>
					    <div class="user-box">
					      <input type="number" name="fstop" required="">
					      <label>Stop Loss (USD)</label>
					    </div>
					    <div class="user-box">
					      <input type="number" name="ftarget" required="">
					      <label>Target (USD)</label>
					    </div>
						<div class="user-box">
					      <input type="number" name="fqty" required="">
					      <label>Quantity</label>
					    </div>
						<div class="user-box">
					      <input type="number" name="fleverage" required="">
					      <label>Leverage</label>
					    </div>

					    <a button id="TICKER">
					      <span></span>
					      <span></span>
					      <span></span>
					      <span></span>
					      Model
					    </a>
					  </form>
				</div>
			</div>


		</section>





			

		</section>

		<script>

			var ticker = "";

			$('#SOLANA').on('click', function () {

							ticker = "SOL"
							document.getElementById('frm1').elements['fticker'].value = ticker;
							var url1 = "https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd"
							var id = "solana"
							const urls = [
							  url1,
							]
							fetchData(urls,id);
						});
			
			$('#BITCOIN').on('click', function () {

							ticker = "BTC"
							document.getElementById('frm1').elements['fticker'].value = ticker;
							
							var url1 = "https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd"
							var id = "bitcoin"
							const urls = [
							  url1,
							]
							fetchData(urls,id);
						});

			$('#CARDANO').on('click', function () {
							ticker = "ADA"
							document.getElementById('frm1').elements['fticker'].value = ticker;

							var url1 = "https://api.coingecko.com/api/v3/simple/price?ids=cardano&vs_currencies=usd"
							var id = "cardano"
							const urls = [
							  url1,
							]
							fetchData(urls,id);
						});

			$('#POLKADOT').on('click', function () {

							ticker = "DOT"
							document.getElementById('frm1').elements['fticker'].value = ticker;

							var url1 = "https://api.coingecko.com/api/v3/simple/price?ids=polkadot&vs_currencies=usd"
							var id = "polkadot"
							const urls = [
							  url1,
							]
							fetchData(urls,id);
						});

			$('#TICKER').on('click', function () {

							
							var side = document.getElementById('frm1').elements['side'].value;
							
							var xbtmultiplier = 0;
							var orderval = 0;
							var takerfee = 0;
							var orderentryval = 0;
							var bankruptcyval = 0;
							var markprice = 0;
							var shortfundingrate = 0;
							var maintenancemargin = 0;
							var sellpremium = 0;
							var leverage = 0;
							var qty = 0;
							var profit = 0;
							var target = 0;
							var loss = 0
							var stop = 0;

							if (side == "long") {

								if (ticker == "BTC") {
									takerfee = 0.0005;
									leverage = document.getElementById('frm1').elements['fleverage'].value;
									limentry = document.getElementById('frm1').elements['flimitentry'].value
									qty = document.getElementById('frm1').elements['fqty'].value;
									orderentryval = parseFloat(1/limentry).toFixed(8) * qty;
									bankruptcyval = orderentryval + orderentryval/leverage;
									orderval = 1/leverage * orderentryval + (orderentryval + bankruptcyval) * takerfee
									target = document.getElementById('frm1').elements['ftarget'].value;
									stop = document.getElementById('frm1').elements['fstop'].value;

									document.getElementById('frm1').elements['forder'].value = parseFloat(orderval).toFixed(8);
									document.getElementById('frm1').elements['ftargetbtc'].value = parseFloat((1/limentry - 1/target) * qty * leverage).toFixed(8);
									document.getElementById('frm1').elements['fstopbtc'].value = parseFloat((1/stop - 1/limentry) * qty * leverage).toFixed(8);
									document.getElementById('frm1').elements['frr'].value = parseFloat(document.getElementById('frm1').elements['ftargetbtc'].value/document.getElementById('frm1').elements['fstopbtc'].value).toFixed(8);


								}

								if (ticker == "SOL") {
									console.log(side)
									xbtmultiplier = 0.00001;
									takerfee = 0.0005;
									orderentryval =  document.getElementById('frm1').elements['flimitentry'].value * document.getElementById('frm1').elements['fqty'].value * xbtmultiplier;
									bankruptcyval = orderentryval + orderentryval/document.getElementById('frm1').elements['fleverage'].value;
									
									orderval = orderentryval/document.getElementById('frm1').elements['fleverage'].value + (orderentryval+bankruptcyval)*takerfee;
									//console.log(orderval)
									document.getElementById('frm1').elements['forder'].value = parseFloat(orderval).toFixed(8);

								}
							}
							else if (side == "short") {
								if (ticker == "SOL") {
									console.log(side)
									xbtmultiplier = 0.00001;
									takerfee = 0.05;
									maintenancemargin = 0.35;
									shortfundingrate = -0.15;
									leverage = document.getElementById('frm1').elements['fleverage'].value;
									orderentryval =  document.getElementById('frm1').elements['flimitentry'].value * document.getElementById('frm1').elements['fqty'].value * xbtmultiplier;
									console.log(orderentryval);
									bankruptcyval = orderentryval + orderentryval/leverage;
									markprice = document.getElementById('frm1').elements['fprice'].value * document.getElementById('frm1').elements['fqty'].value * xbtmultiplier;
									console.log(markprice);
									sellpremium = Math.max(0,orderentryval - Math.abs(orderentryval*(1/leverage-(maintenancemargin/100-shortfundingrate/100)))-markprice);
									//console.log(sellpremium);
									orderval = orderentryval/leverage + (orderentryval+bankruptcyval)*takerfee/100;
									console.log(orderval);
									document.getElementById('frm1').elements['forder'].value = parseFloat(orderval).toFixed(8);

								}

								if (ticker == "BTC") {
									takerfee = 0.0005;
									maintenancemargin = 0.35;
									shortfundingrate = 0.01;
									leverage = document.getElementById('frm1').elements['fleverage'].value;
									limentry = document.getElementById('frm1').elements['flimitentry'].value;
									price = document.getElementById('frm1').elements['fprice'].value;
									qty = document.getElementById('frm1').elements['fqty'].value;
									orderentryval = parseFloat(1/limentry).toFixed(8) * qty;
									markprice = parseFloat(1/price).toFixed(8) * qty;
									bankruptcyval = orderentryval + orderentryval/leverage;
									
									sellpremium = Math.max(0,orderentryval - Math.abs(orderentryval*(1/leverage-(maintenancemargin/100-shortfundingrate/100)))-markprice);
									orderval = 1/leverage * orderentryval + (orderentryval + bankruptcyval) * takerfee + sellpremium;
									document.getElementById('frm1').elements['forder'].value = parseFloat(orderval).toFixed(8);
									target = document.getElementById('frm1').elements['ftarget'].value;
									stop = document.getElementById('frm1').elements['fstop'].value;

									document.getElementById('frm1').elements['forder'].value = parseFloat(orderval).toFixed(8);
									document.getElementById('frm1').elements['ftargetbtc'].value = parseFloat((1/target - 1/limentry) * qty * leverage).toFixed(8);
									document.getElementById('frm1').elements['fstopbtc'].value = parseFloat((1/limentry - 1/stop) * qty * leverage).toFixed(8);
									document.getElementById('frm1').elements['frr'].value = parseFloat(document.getElementById('frm1').elements['ftargetbtc'].value/document.getElementById('frm1').elements['fstopbtc'].value).toFixed(8);

								}

							}
							else {


							}

						});


		</script>



		<!-- End Button Tabs Centered -->
		

		<!-- End Footer -->
		<script src="js/bitmex.js"></script>
        <script src="js/jquery.js"></script>
		<script src="js/init.js"></script>
		<script src="js/scripts.js"></script>


	</body>

<!-- elements12:54-->
</html>
