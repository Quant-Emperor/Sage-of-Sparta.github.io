<!DOCTYPE html>
<html lang="en">

<!-- elements12:51-->
<head>
        
		<meta charset="utf-8">
		<title>Love of Quant</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="img/assets/favicon.png" rel="icon" type="image/png">
		<link href="css/init.css" rel="stylesheet" type="text/css">
		<link href="css/ion-icons.min.css" rel="stylesheet" type="text/css">
		<link href="css/etline-icons.min.css" rel="stylesheet" type="text/css">
		<link href="css/theme.css" rel="stylesheet" type="text/css">
		<link href="css/custom.css" rel="stylesheet" type="text/css">
		<link href="css/colors/purple.css" rel="stylesheet" type="text/css">
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRaleway:400,100,200,300%7CHind:400,300" rel="stylesheet" type="text/css">
		<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
        <script src="https://code.jscharting.com/latest/jscharting.js"></script>
        <script type="text/javascript" src="https://code.jscharting.com/latest/modules/types.js"></script>
        <script type="text/javascript" src="https://code.jscharting.com/latest/modules/toolbar.js"></script>	
        <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.1/papaparse.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.3/jquery.csv.min.js"></script>
		
	</head>


	<body>

		<!-- Start Header -->
		<nav class="navbar nav-down" data-fullwidth="true" data-menu-style="light" data-animation="shrink">
										<!-- Styles: light, dark, transparent, transparent-to-dark | Animation: hiding, shrink -->
			<div class="container">

				<div class="navbar-header">
					<div class="container">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar top-bar"></span>
							<span class="icon-bar middle-bar"></span>
							<span class="icon-bar bottom-bar"></span>
						</button>
						<!-- <a class="navbar-brand to-top" href="#"><img src="img/assets/logo-light.png" class="logo-light" alt="#"><img src="img/assets/logo-dark-.png" class="logo-dark" alt="#"></a> -->
					</div>
				</div>

				<div id="navbar" class="navbar-collapse collapse">
					<div class="container">
						<ul class="nav navbar-nav center-menu">

							<!-- Each section must have corresponding ID ( #hero -> id="hero" ) -->
							<li><a href="index.html" target="_top">Home</a></li>
							<li><a href="index.html#about">About</a></li>
                            <li><a href="index.html#table">Stock News</a></li>
                            <li><a href="index.html#table2">Wall Street Journal</a></li>
                            <li><a href="index.html#table4">Bloomberg</a></li>
                            <li><a href="index.html#table3">Crypto News</a></li>
							<li class="dropdown megamenu vos">
								<a class="dropdown-toggle">Elements<i class="ion-ios-arrow-down"></i></a>
								<ul class="dropdown-menu fullwidth">
									<li class="megamenu-content withdesc">
										<div class="col-md-3 mg-col">
											<ul>
												<li><a href="stocks.html" target="_top">Equities</a></li>
                                                <li><a href="gdp.html" target="_top">GDP</a></li>
                                                <li><a href="umcsi.html" target="_top">UMCSI</a></li>
                                                <li><a href="housing.html" target="_top">Housing</a></li>
                                                <li><a href="screener.html" target="_top">Stock Screener</a></li>
                                                <li><a href="black_candle.html" target="_top">Secrets of the Candlestick</a></li>
											</ul>
										</div>
										<div class="col-md-3 mg-col">
											<ul>
												<li><a href="ism.html" target="_top">ISM Manufacturing</a></li>
												<li><a href="ism-services.html" target="_top">ISM Services</a></li>
												<li><a href="ism-heatmaps.html" target="_top">ISM Heatmaps</a></li>
												<li><a href="stock_dash.html" target="_top">Stock Dashboard</a></li>
												<li><a href="bitmex_calc.html" target="_top">Bitmex Crypto Calculator</a></li>
											</ul>
										</div>
									</li>
								</ul>
							</li>
							
						</ul>
						
					</div>
				</div>
			</div>
		</nav>
		<!-- End Header -->





		<!-- Button Tabs Centered -->
		<section id="elements-buttons" class="pt100 pb80" style="width:100%" align-content= "center">
			<div class="container">
				<div class="row">
					<div class="col-md-12 text-center mt40 pb40">
						<h1><strong>Dashboard</strong></h1>
					</div>


				    <div class="col-md-12 text-center mt40 pb40">
				    	<form id="frm1">
						  <input type="text" name="fname" value="AAPL" style="width:10%">
						</form> 
						<form id="frm2">
						  <input type="text" name="fname2" value="AMZN" style="width:10%">
						</form> 
						<button id="TICKER" class="btn btn-md btn-primary btn-round">Search</button>
				    </div>

					<script>
						var column_list = [
												{ title: "Ticker", "data": "symbol" },
						                        { title: "Date", "data": "date" },
						                        { title: "Price", "data": "stockPrice",
						                          "render": function ( data ) {
												    return data.toFixed(2)}, },
						                        { title: "Number of Shares", "data": "numberOfShares",
							                        "render": function ( data ) {
												    return data.toString().replace(
												      /\B(?=(\d{3})+(?!\d))/g, ","
												    )},
						                         },
						                         { title: "Market Cap", "data": "marketCapitalization",
							                        "render": function ( data ) {
												    return data.toString().replace(
												      /\B(?=(\d{3})+(?!\d))/g, ","
												    )},
						                         },
						                    ];

						var column_list2 = [
												{ title: "Ticker", "data": "symbol" },
						                        { title: "Date", "data": "publishedDate" },
						                       // { title: "Title", "data": "title" },
						                        { title: "Source Name", "data": "site" },
						                        { title: "News", "data": "text", "width": "50%" },
						                        { title: "Link", "data": "url" 

												,"render": function(data){
												          // return '<a href="' + data + '">' + data + '</a>';
												          	return '<a href="' + data + '">Click here</a>';

												         }
						                    },
						                    ];

						var column_list3 = [
												{ title: "Ticker", "data": "symbol" },
						                        { title: "Name", "data": "name" },
						                        { title: "Price", "data": "price" },
						                        { title: "changesPercentage", "data": "changesPercentage" },
						                        { title: "change", "data": "change" },
						                        { title: "marketCap", "data": "marketCap" },
						                        { title: "volume", "data": "volume" },
						                        { title: "avgVolume", "data": "avgVolume" },
						                        { title: "open", "data": "open" },
						                        { title: "eps", "data": "eps" },
						                        { title: "pe", "data": "pe" },
						                        
						                    ];

						



						$('#TICKER').on('click', function () {

							var x = document.getElementById("frm1");
							var ticker = x.elements[0].value

							var y = document.getElementById("frm2");
							var ticker2 = y.elements[0].value

							
							var url1 = "https://financialmodelingprep.com/api/v3/ratios/" + ticker + "?limit=40&apikey=c01b3c8e189822588988574a0c3957dd"
							var url2 = "https://financialmodelingprep.com/api/v3/historical-price-full/" + ticker + "?apikey=c01b3c8e189822588988574a0c3957dd"
							var url3 = "https://financialmodelingprep.com/api/v4/company-outlook?symbol=" + ticker + "&apikey=c01b3c8e189822588988574a0c3957dd"
							var url4 = "https://financialmodelingprep.com/api/v3/analyst-estimates/" + ticker + "?limit=30&apikey=c01b3c8e189822588988574a0c3957dd"

							var url5 = "https://financialmodelingprep.com/api/v3/analyst-estimates/" + ticker + "?period=quarter&limit=10&apikey=c01b3c8e189822588988574a0c3957dd"
							var url6 = "https://financialmodelingprep.com/api/v3/historical-price-full/" + ticker2 + "?apikey=c01b3c8e189822588988574a0c3957dd"
							
							
							const urls = [
							  url1,
							  url2,
							  url3,
							  url4,
							  url5,
							  url6,
							]

							fetchData(urls);

						});

						/// table
						
						var table = $('#table').DataTable();
						var table2 = $('#table2').DataTable();
						var table3 = $('#table3').DataTable();
						/// Read file
						$('#TICKER').on('click', function () {
							

							table.destroy();
							table2.destroy();
							table3.destroy();

							var x = document.getElementById("frm1");
							var ticker = x.elements[0].value
							var urlstring = "https://financialmodelingprep.com/api/v3/enterprise-values/" + ticker + "?limit=40&apikey=c01b3c8e189822588988574a0c3957dd"

							var urlstring2 = "https://financialmodelingprep.com/api/v3/stock_news?tickers=" + ticker + "&limit=50&apikey=c01b3c8e189822588988574a0c3957dd"

							var urlstring3 = "https://financialmodelingprep.com/api/v3/quote/" + ticker + "?apikey=c01b3c8e189822588988574a0c3957dd"

							
				  			 
						            $(document).ready(function () {

						            	table = $('#table').DataTable({
						                	retrieve: true,
										    searching: false, 
										    info: false,
						                	"ajax": {
									            "url": urlstring,
									            "dataSrc": ""
									        },
									        "pageLength": 5,
						                    "columns": column_list
						                });

						                table2 = $('#table2').DataTable({
						                	retrieve: true,
										    
						                	"ajax": {
									            "url": urlstring2,
									            "dataSrc": ""
									        },
									        "pageLength": 5,
						                    "columns": column_list2
						                });

						                table3 = $('#table3').DataTable({
						                	retrieve: true,
										    searching: false, 
										    paging: false, 
										    info: false,
						                	"ajax": {
									            "url": urlstring3,
									            "dataSrc": ""
									        },
						                    "columns": column_list3





						                });


						            });



				  			  });
						/// table
						

						
						/// Read file
						//$('#TICKER').on('click', function () {
							

				  			//  });

					</script>
					
				</div>
			</div>

			 

		</section>

        <!-- Project -->
        <section class="pt140 pb50">
            <div class="container">
            
            <table id="table4" class="display" width="40%"> <caption style="text-align:center;font-size:40px"><strong>Profile</strong></caption> </table> 

            <table id="table3" class="display" width="40%"> <caption style="text-align:center;font-size:40px"><strong>Quote</strong></caption> </table> 

            <div id="epschartdiv" style="width:80%; height:500px; margin:0 auto;"></div> 
            <div id="stockchartdiv" style="width:80%; height:500px; margin:0 auto;"></div>
            <div id="pegchartdiv" style="width:80%; height:500px; margin:0 auto;"></div>  
			<div id="epsestchartdiv" style="width:80%; height:500px; margin:0 auto;"></div>  
			<div id="quartepsestchartdiv" style="width:80%; height:500px; margin:0 auto;"></div> 
			<div id="stockchartdiv2" style="width:80%; height:500px; margin:0 auto;"></div> 


		    <table id="table" class="display" width="40%"> <caption style="text-align:center;font-size:40px"><strong>Enterprise Values</strong></caption> </table>  
		    <table id="table2" class="display" width="80%"> <caption style="text-align:center;font-size:40px"><strong>News</strong></caption> </table> 
		    
		    </div>

        </section>
        <!-- End Project -->







		<!-- End Button Tabs Centered -->
		

		<hr>

		


		<!-- Start Footer -->
		<footer id="footer" class="footer style-1 dark">

			<!-- Back To Top Button -->
			<span><a class="scroll-top"><i class="ion-chevron-up"></i></a></span>

		</footer>
		<!-- End Footer -->
		<script src="js/stockdash.js"></script>
        <script src="js/jquery.js"></script>
        <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
		<script src="js/init.js"></script>
		<script src="js/scripts.js"></script>


	</body>

<!-- elements12:54-->
</html>
